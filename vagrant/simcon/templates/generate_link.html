<!-- This template is used to generate a link to a simulated conversation that the researcher select.  It uses the
GenerateLink view.-->
{% extends "admin/base_site.html" %}
{% load staticfiles %}

<!-- help text -->
{% block extrahead %}
    <script>
        function generateHelp()
        { 
                alert("The conversation you post online will be available to anyone with the correct address until the beginning of the day you specify.");
        }
       
        function linkHelp()
        { 
                alert("Save this address and give it to whomever you would like to take your conversation. If you right-click on it and \'copy\' the link, you don\'t have to worry about making a mistake.");
        }
        
    </script>
 1    

{% endblock %}

{% block title %}Generate Link{% endblock %}
{% block content %}

    <h3>Generate Link<button class="btn btn-default" onclick="generateHelp()">?</button></h3>
    {% if link %}
        <div class="alert alert-success">
            <b>Link: </b>
            <a href="{{link}}">{{link}}</a>
            <button class="btn btn-default" onclick="linkHelp()">?</button>
        </div>
    {% endif %}
    {% if key %}
        <b><br>Key: {{key}}<br><br></b>
    {% endif %}
    <input type=button onClick="location.href='{% url "Links" %}'"  value='View Generated Links'><br><br>
    <link rel="stylesheet" href="http://code.jquery.com/ui/1.10.4/themes/smoothness/jquery-ui.css">
    <script src="http://code.jquery.com/ui/1.10.4/jquery-ui.js"></script>
    <script>  $(function() {$( "#datepicker" ).datepicker();});
    </script>

    <form action = "/generatelink/" method = "post"> {% csrf_token %}
        {% for field in form %}
        <div class = "field_error_wrapper">
            {{field.errors}}
            {{field.label_tag}}<br/>
            {{field}}
        </div>
    {% endfor %}
    <input type = "submit" value = "Submit" />
    </form>
{% endblock %}
